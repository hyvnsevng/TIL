# WebSocket
## WebSocket이란?
- 클라이언트와 서버를 연결하고 실시간으로 통신이 가능하도록 하는 기술
- HTTP 요청과 다르게 별도의 요청을 보내지 않고도 데이터 수신 가능
- 지속적으로 업데이트되는 정보를 수신해야 되는 채팅이나 주식 보고서 등에서 주로 사용
- 정보를 동시에 송수신할 수 있으므로 정보 교환이 더 빨라지기 때문

## 원리
- 웹소켓에서 클라이언트와 서버 간의 연결은 둘 중 하나에 의해 종료되거나 시간 초과에 의해 닫힐 때까지 연결된 상태로 유지됨
- 연결이 종료될 때까지 동일한 채널을 사용하여 통신이 수행됨
- 메시지는 양방향으로 교환되며, 데이터 암호화 가능

# 실습
## 목표
- 웹소켓 개발 환경 구축(Node.js와 Express.js를 이용한 서버 구축)
- 웹소켓 통신을 이용한 단방향 데이터 전송(클라이언트 → 서버)
- 웹소켓 통신을 이용한 양방향 데이터 전송

## 기능 상세
### 웹소켓 개발 환경 구축(Node.js와 Express.js를 이용한 서버 구축)

```
[※주의※]
디렉토리 명이 한글일 경우, node 명령어로 js 파일 실행 시 오류가 발생할 수 있다.
```

1. Node.js 설치
2. Express.js 설치
    ```bash
    $ npm init
    $ npm install express
    ```
    - `package.json`의 dependencies에서 express 확인
3. 서버 구동
    - 클라이언트 및 서버 코드 작성

### 웹소켓을 이용한 단방향 데이터 전송(클라이언트  → 서버)
1. ws(웹소켓) 라이브러리 설치
    ```bash
    npm install ws
    ```
2. 포트 8001번으로 접속할 수 있는 웹소켓 서버를 통해, 클라이언트에서 서버로 메시지 전송할 수 있는 코드 작성
3. 클라이언트에서 WebSocket 통신을 통해 서버로 메시지 전송하는 버튼 추가

### 웹소켓 통신을 이용한 양방향 데이터 전송

#### 브로드캐스트(Broadcast)
-  서버에 접속된 모든 클라이언트에 정보를 보내는 기능
-  채팅 기능을 구현하기 위해선 브로드캐스트를 구현하는 게 핵심이라고 할 수 있음
-  하나의 클라이언트가 웹소켓 서버로 메시지(채팅)을 보낼 시, 서버는 브로드캐스트를 통해 모든 클라이언트에 수신한 메시지를 보냄.
-  이로써 웹소켓을 이용한 양방향 통신 구현할 수 있다(소스코드 참고)
